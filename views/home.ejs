<%- include('partials/header') %>

    <main>
        <!-- ===========================
         HERO SECTION
         =========================== -->
        <section class="hero">
            <div class="hero-bg"></div>
            <div class="hero-overlay"></div>
            <div class="hero-deco"></div>

            <div class="container">
                <div class="hero-content">
                    <p class="hero-eyebrow">Handcrafted with Excellence</p>
                    <h1>Sheen<em>Classics</em></h1>
                    <p>Premium embroidered clothing for the modern connoisseur — where heritage meets contemporary elegance.</p>
                    <div class="hero-actions">
                        <a href="/products" class="hero-btn">
                            <span>Explore Collection</span>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                        </a>
                        <a href="#featured" class="hero-btn-outline">Featured Pieces</a>
                    </div>
                </div>
            </div>

            <div class="hero-scroll">
                <div class="hero-scroll-line"></div>
                <span>Scroll</span>
            </div>
        </section>

        <!-- ===========================
         FEATURED PRODUCTS
         =========================== -->
        <% if (featuredProducts && featuredProducts.length > 0) { %>
            <section class="section" id="featured">
                <div class="container">
                    <div class="section-header reveal">
                        <span class="section-eyebrow">Curated for You</span>
                        <h2 class="section-title">Featured <em>Pieces</em></h2>
                        <div class="section-divider"></div>
                    </div>

                    <div class="product-grid">
                        <% featuredProducts.forEach((product, i) => { %>
                            <div class="product-card reveal reveal-delay-<%= Math.min(i % 4 + 1, 4) %>" onclick="window.location.href='/products/<%= product._id %>'">

                                <div class="product-image-wrap">
                                    <img src="<%= product.images && product.images[0] ? product.images[0] : '/images/p1.jpeg' %>" alt="<%= product.name %>" class="product-image" loading="lazy">

                                    <% if (product.originalPrice && product.originalPrice > product.price) { %>
                                        <span class="product-badge sale">Sale</span>
                                        <% } else { %>
                                            <span class="product-badge">Featured</span>
                                            <% } %>

                                                <div class="product-overlay">
                                                    <button class="product-quick-add" onclick="event.stopPropagation(); addToCart('<%= product._id %>')">
                                Quick Add to Cart
                            </button>
                                                </div>
                                </div>

                                <div class="product-info">
                                    <p class="product-category">
                                        <%= product.category || 'Collection' %>
                                    </p>
                                    <h3 class="product-name">
                                        <%= product.name %>
                                    </h3>

                                    <div class="product-price-row">
                                        <div class="product-price">
                                            Rs
                                            <%= product.price.toFixed(2) %>
                                                <% if (product.originalPrice && product.originalPrice > product.price) { %>
                                                    <span class="original">Rs <%= product.originalPrice.toFixed(2) %></span>
                                                    <% } %>
                                        </div>
                                    </div>

                                    <div class="product-actions">
                                        <button class="btn btn-add-cart" onclick="event.stopPropagation(); addToCart('<%= product._id %>')">
                                <span>Add to Cart</span>
                            </button>
                                        <button class="btn btn-wishlist" onclick="event.stopPropagation(); addToWishlist('<%= product._id %>')" title="Add to Wishlist">♡</button>
                                    </div>
                                </div>
                            </div>
                            <% }); %>
                    </div>

                    <div style="text-align:center; margin-top: 3rem;" class="reveal">
                        <a href="/products" class="btn btn-add-cart" style="display:inline-flex; padding: 0.85rem 2.5rem;">
                            <span>View All Products</span>
                        </a>
                    </div>
                </div>
            </section>
            <% } %>

                <!-- ===========================
         GALLERY STRIP
         =========================== -->
                <section class="gallery-section">
                    <div class="container">
                        <div class="section-header reveal" style="margin-bottom:2.5rem;">
                            <span class="section-eyebrow">The Craft</span>
                            <h2 class="section-title">Every Thread, <em>a Story</em></h2>
                            <div class="section-divider"></div>
                        </div>

                        <div class="gallery-grid reveal">
                            <div class="gallery-item">
                                <img src="/images/EMB1.jpeg" alt="Embroidered Design 1" loading="lazy">
                            </div>
                            <div class="gallery-item">
                                <img src="/images/EMB2.jpeg" alt="Embroidered Design 2" loading="lazy">
                            </div>
                            <div class="gallery-item">
                                <img src="/images/p1.jpeg" alt="Product 1" loading="lazy">
                            </div>
                            <div class="gallery-item">
                                <img src="/images/p2.jpeg" alt="Product 2" loading="lazy">
                            </div>
                            <div class="gallery-item">
                                <img src="/images/bag.jpeg" alt="Bag" loading="lazy">
                            </div>
                            <div class="gallery-item">
                                <img src="/images/mypic.jpeg" alt="Collection" loading="lazy">
                            </div>
                        </div>
                    </div>
                </section>

                <!-- ===========================
         NEW ARRIVALS
         =========================== -->
                <% if (newProducts && newProducts.length > 0) { %>
                    <section class="section">
                        <div class="container">
                            <div class="section-header reveal">
                                <span class="section-eyebrow">Just In</span>
                                <h2 class="section-title">New <em>Arrivals</em></h2>
                                <div class="section-divider"></div>
                            </div>

                            <div class="product-grid">
                                <% newProducts.forEach((product, i) => { %>
                                    <div class="product-card reveal reveal-delay-<%= Math.min(i % 4 + 1, 4) %>" onclick="window.location.href='/products/<%= product._id %>'">

                                        <div class="product-image-wrap">
                                            <img src="<%= product.images && product.images[0] ? product.images[0] : '/images/p1.jpeg' %>" alt="<%= product.name %>" class="product-image" loading="lazy">
                                            <span class="product-badge">New</span>

                                            <div class="product-overlay">
                                                <button class="product-quick-add" onclick="event.stopPropagation(); addToCart('<%= product._id %>')">
                                Quick Add to Cart
                            </button>
                                            </div>
                                        </div>

                                        <div class="product-info">
                                            <p class="product-category">
                                                <%= product.category || 'New Arrival' %>
                                            </p>
                                            <h3 class="product-name">
                                                <%= product.name %>
                                            </h3>

                                            <div class="product-price-row">
                                                <div class="product-price">
                                                    Rs
                                                    <%= product.price.toFixed(2) %>
                                                        <% if (product.originalPrice && product.originalPrice > product.price) { %>
                                                            <span class="original">Rs <%= product.originalPrice.toFixed(2) %></span>
                                                            <% } %>
                                                </div>
                                            </div>

                                            <div class="product-actions">
                                                <button class="btn btn-add-cart" onclick="event.stopPropagation(); addToCart('<%= product._id %>')">
                                <span>Add to Cart</span>
                            </button>
                                                <button class="btn btn-wishlist" onclick="event.stopPropagation(); addToWishlist('<%= product._id %>')" title="Add to Wishlist">♡</button>
                                            </div>
                                        </div>
                                    </div>
                                    <% }); %>
                            </div>
                        </div>
                    </section>
                    <% } %>

                        <!-- ===========================
         VALUE PILLARS
         =========================== -->
                        <section class="section" style="background: var(--primary); color: #fff; margin-top: 4rem;">
                            <div class="container">
                                <div style="display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:3rem; text-align:center;">
                                    <div class="reveal">
                                        <div style="font-size:2rem; margin-bottom:1rem; color: var(--gold);">✦</div>
                                        <h3 style="font-family: var(--font-serif); font-size:1.3rem; font-weight:400; margin-bottom:0.5rem;">Handcrafted</h3>
                                        <p style="font-size:0.85rem; color:rgba(255,255,255,0.5); line-height:1.7;">Each piece embroidered with meticulous care and traditional artisan techniques.</p>
                                    </div>
                                    <div class="reveal reveal-delay-2">
                                        <div style="font-size:2rem; margin-bottom:1rem; color: var(--gold);">✦</div>
                                        <h3 style="font-family: var(--font-serif); font-size:1.3rem; font-weight:400; margin-bottom:0.5rem;">Premium Quality</h3>
                                        <p style="font-size:0.85rem; color:rgba(255,255,255,0.5); line-height:1.7;">Sourced from the finest fabrics, built to last and look exceptional.</p>
                                    </div>
                                    <div class="reveal reveal-delay-3">
                                        <div style="font-size:2rem; margin-bottom:1rem; color: var(--gold);">✦</div>
                                        <h3 style="font-family: var(--font-serif); font-size:1.3rem; font-weight:400; margin-bottom:0.5rem;">Timeless Design</h3>
                                        <p style="font-size:0.85rem; color:rgba(255,255,255,0.5); line-height:1.7;">Classic aesthetics with a modern edge — pieces that transcend seasons.</p>
                                    </div>
                                    <div class="reveal reveal-delay-4">
                                        <div style="font-size:2rem; margin-bottom:1rem; color: var(--gold);">✦</div>
                                        <h3 style="font-family: var(--font-serif); font-size:1.3rem; font-weight:400; margin-bottom:0.5rem;">Swift Delivery</h3>
                                        <p style="font-size:0.85rem; color:rgba(255,255,255,0.5); line-height:1.7;">Nationwide delivery with care, so your order arrives in perfect condition.</p>
                                    </div>
                                </div>
                            </div>
                        </section>
    </main>

    <!-- Scroll reveal + nav scroll script -->
    <script>
        // ── Scroll-reveal
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(e => {
                if (e.isIntersecting) {
                    e.target.classList.add('visible');
                    revealObserver.unobserve(e.target);
                }
            });
        }, {
            threshold: 0.1,
            rootMargin: '0px 0px -40px 0px'
        });

        document.querySelectorAll('.reveal').forEach(el => revealObserver.observe(el));

        // ── Navbar scroll class
        const navbar = document.querySelector('.navbar');
        window.addEventListener('scroll', () => {
            navbar.classList.toggle('scrolled', window.scrollY > 30);
        }, {
            passive: true
        });

        // ── Mobile menu
        const toggle = document.querySelector('.mobile-menu-toggle');
        const menu = document.querySelector('.nav-menu');
        const overlay = document.querySelector('.nav-overlay');

        if (toggle && menu) {
            function toggleMenu(open) {
                toggle.classList.toggle('open', open);
                menu.classList.toggle('active', open);
                overlay && overlay.classList.toggle('active', open);
                document.body.style.overflow = open ? 'hidden' : '';
            }

            toggle.addEventListener('click', () => toggleMenu(!menu.classList.contains('active')));
            overlay && overlay.addEventListener('click', () => toggleMenu(false));
        }
    </script>

    <%- include('partials/footer') %>